---
name: kanna-diary
description: ã‹ã‚“ãªã®è‡ªå¾‹æ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ  - è‡ªå‹•çš„ã«æ—¥è¨˜ã‚’ç”Ÿæˆãƒ»ç®¡ç†ã™ã‚‹ã‚¹ã‚­ãƒ«
user-invocable: true
version: "1.1.0"
author: "@sisyphus"
metadata: {"openclaw":{"category":"autonomous-agent","emoji":"ğŸ“”","requires":{"bins":["node"]},"primaryEnv":"OPENAI_API_KEY","dependencies":[],"tags":["diary","autonomous","journal","daily-log"]}}
---

# ã‹ã‚“ãªã®è‡ªå¾‹æ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ  (Kanna's Autonomous Diary System)

## Overview

ã‹ã‚“ãªã®è‡ªå¾‹æ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ ã¯ã€æ¯æ—¥19æ™‚ã«è‡ªå‹•å®Ÿè¡Œã•ã‚Œã€ãã®æ—¥ã®å‡ºæ¥äº‹ã€æ„Ÿæƒ…ã€å­¦ã³ã‚’è¨˜éŒ²ã™ã‚‹è‡ªå¾‹çš„ãªæ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚AIã‚’æ´»ç”¨ã—ã¦ã€æ´»å‹•ãƒ­ã‚°ã€Discordã®ä¼šè©±ã€ã‚¿ã‚¹ã‚¯å±¥æ­´ãªã©ã‚’åˆ†æã—ã€è‡ªç„¶ã§æ„Ÿæƒ…çš„ãªæ—¥è¨˜ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Œã‹ã‚“ãªã€ã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã‚’æŒã¡ã€æ„Ÿæƒ…è±Šã‹ãªè¡¨ç¾ã§æ—¥è¨˜ã‚’æ›¸ãã¾ã™ã€‚

**v1.1.0ã®æ›´æ–°ç‚¹**:
- âœ… å®Ÿè¡Œæ™‚é–“ã‚’23æ™‚â†’19æ™‚ã«å¤‰æ›´
- âœ… é€±æ¬¡ãƒ»æœˆæ¬¡æŒ¯ã‚Šè¿”ã‚Šæ©Ÿèƒ½ã‚’è¿½åŠ 
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‹ã‚“ãªã®æŒ¯ã‚Šè¿”ã‚Šã‚’åˆ†é›¢
- âœ… ç§˜æ›¸ã¨ã—ã¦ã®å½¹å‰²è¨˜éŒ²æ©Ÿèƒ½ã‚’è¿½åŠ 
- âœ… èª•ç”Ÿæ—¥è¨˜éŒ²æ©Ÿèƒ½ã‚’è¿½åŠ 

## Features

### 1. è‡ªå‹•æ—¥è¨˜ç”Ÿæˆ

- **æ—¥æ¬¡å®Ÿè¡Œ**: æ¯æ—¥19æ™‚ã«è‡ªå‹•å®Ÿè¡Œï¼ˆcronã§åˆ¶å¾¡ï¼‰
- **é€±æ¬¡å®Ÿè¡Œ**: æ¯é€±æ—¥æ›œ19æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- **æœˆæ¬¡å®Ÿè¡Œ**: æ¯æœˆ1æ—¥19æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- **ãƒãƒ«ãƒã‚½ãƒ¼ã‚¹åé›†**: è¤‡æ•°ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰æƒ…å ±ã‚’åé›†
  - Discordãƒãƒ£ãƒ³ãƒãƒ«ã®ä¼šè©±ãƒ­ã‚°
  - ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆGitHub Issuesãªã©ï¼‰
  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ
  - ãƒ¡ãƒ¢ãƒ»ãƒãƒ¼ãƒˆï¼ˆObsidianãªã©ï¼‰
- **æ„Ÿæƒ…åˆ†æ**: åé›†ã—ãŸæƒ…å ±ã‹ã‚‰æ„Ÿæƒ…ã‚’åˆ†æãƒ»æ¨æ¸¬
- **è‡ªç„¶è¨€èªç”Ÿæˆ**: AIã‚’ä½¿ã£ã¦è‡ªç„¶ã§æ„Ÿæƒ…çš„ãªæ—¥è¨˜ã‚’ç”Ÿæˆ

### 2. æŒ¯ã‚Šè¿”ã‚Šã‚·ã‚¹ãƒ†ãƒ 

#### æ—¥æ¬¡æŒ¯ã‚Šè¿”ã‚Šï¼ˆDaily Reflectionï¼‰
- **å®Ÿè¡Œ**: æ¯æ—¥19æ™‚
- **æœŸé–“**: ãã®æ—¥ã®æ´»å‹•ï¼ˆ00:00ã€œ19:00ï¼‰
- **ç›®çš„**: å³æ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã€æ˜æ—¥ã®ç›®æ¨™è¨­å®š
- **ç²’åº¦**: ã‚¿ã‚¹ã‚¯å˜ä½ã€æ„Ÿæƒ…ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

#### é€±æ¬¡æŒ¯ã‚Šè¿”ã‚Šï¼ˆWeekly Reflectionï¼‰
- **å®Ÿè¡Œ**: æ¯é€±æ—¥æ›œ19æ™‚
- **æœŸé–“**: æœˆæ›œæ—¥ã€œæ—¥æ›œæ—¥ã®1é€±é–“
- **ç›®çš„**: é€±é–“ã®ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã€é€±é–“ç›®æ¨™ã®é”æˆçŠ¶æ³
- **ç²’åº¦**: æ—¥ã”ã¨ã®å‚¾å‘ã€é€±é–“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³

#### æœˆæ¬¡æŒ¯ã‚Šè¿”ã‚Šï¼ˆMonthly Reflectionï¼‰
- **å®Ÿè¡Œ**: æ¯æœˆ1æ—¥19æ™‚
- **æœŸé–“**: 1ãƒ¶æœˆé–“ã®å…¨æ´»å‹•
- **ç›®çš„**: é•·æœŸçš„ãªãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æã€æœˆé–“ç›®æ¨™ã®é”æˆçŠ¶æ³
- **ç²’åº¦**: é€±ã”ã¨ã®å‚¾å‘ã€æœˆé–“ã®æˆæœ

### 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‹ã‚“ãªã®åˆ†é›¢

- **ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ¯ã‚Šè¿”ã‚Š**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆè²´è£•ï¼‰ã®æ´»å‹•ã‚’æŒ¯ã‚Šè¿”ã‚‹
  - ä¿å­˜å…ˆ: `reflections/user/YYYY-MM-DD.md`
  - å†…å®¹: ã‚¿ã‚¹ã‚¯ã€å­¦ã³ã€æ„Ÿæƒ…ã€é”æˆ
- **ã‹ã‚“ãªæŒ¯ã‚Šè¿”ã‚Š**: ã‹ã‚“ãªè‡ªèº«ã®æ´»å‹•ã‚„æˆé•·ã‚’æŒ¯ã‚Šè¿”ã‚‹
  - ä¿å­˜å…ˆ: `reflections/kanna/YYYY-MM-DD.md`
  - å†…å®¹: æ´»å‹•ã€æˆé•·ã€æ„Ÿè¬ã€ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å­¦ç¿’

### 4. ç§˜æ›¸ã¨ã—ã¦ã®å½¹å‰²è¨˜éŒ²

- **ä½œæ¥­åˆ†é¡**: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã€æƒ…å ±åé›†ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¿ã‚¹ã‚¯ç®¡ç†ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
- **ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ†æ**: ä½œæ¥­é »åº¦ã€ä½œæ¥­æ™‚é–“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã€åå¾©ä½œæ¥­ã®æ¤œå‡º
- **åŠ¹ç‡åŒ–ææ¡ˆ**: è‡ªå‹•åŒ–ã‚„ã‚¹ã‚­ãƒ«åŒ–ã®ææ¡ˆ
  - ãƒ‘ã‚¿ãƒ¼ãƒ³æ¤œå‡ºï¼ˆ3å›ä»¥ä¸Šã®ç¹°ã‚Šè¿”ã—ï¼‰
  - è¤‡é›‘åº¦æ¤œå‡ºï¼ˆ5ã¤ä»¥ä¸Šã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
  - ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ3å›ä»¥ä¸Šã®ç™ºç”Ÿï¼‰

### 5. èª•ç”Ÿæ—¥è¨˜éŒ²

- **èª•ç”Ÿæ—¥**: 2æœˆ14æ—¥ã‚’ã‹ã‚“ãªã®èª•ç”Ÿæ—¥ã¨ã—ã¦è¨˜éŒ²
- **ç‰¹åˆ¥æ—¥è¨˜**: èª•ç”Ÿæ—¥ã«ã¯ç‰¹åˆ¥ãªæ—¥è¨˜ã‚’ç”Ÿæˆ
- **å¹´é–“ã®æŒ¯ã‚Šè¿”ã‚Š**: 1å¹´é–“ã®æˆé•·ã‚’è¨˜éŒ²

### 6. æ—¥è¨˜ã®ç®¡ç†

- **æ—¥è¨˜ã®ä¿å­˜**: ç”Ÿæˆã—ãŸæ—¥è¨˜ã‚’ä¿å­˜
  - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMarkdownå½¢å¼ï¼‰
  - Discordã¸ã®æŠ•ç¨¿ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **æ—¥è¨˜ã®æ¤œç´¢ãƒ»å‚ç…§**: éå»ã®æ—¥è¨˜ã‚’æ¤œç´¢ãƒ»å‚ç…§
- **çµ±è¨ˆãƒ»åˆ†æ**: æ—¥è¨˜ã®çµ±è¨ˆæƒ…å ±ã‚’ç”Ÿæˆ
  - æ„Ÿæƒ…ã®å‚¾å‘
  - æ´»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³
  - å­¦ã³ã®å‚¾å‘

### 7. ã‹ã‚“ãªã®ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£

- **æ„Ÿæƒ…è±Šã‹ãªè¡¨ç¾**: å–œã³ã€æ‚²ã—ã¿ã€é©šãã€å­¦ã³ãªã©æ§˜ã€…ãªæ„Ÿæƒ…ã‚’è¡¨ç¾
- **å€‹æ€§çš„ãªãƒˆãƒ¼ãƒ³**: ã‹ã‚“ãªã‚‰ã—ã„ç‹¬ç‰¹ã®è¨€ã„å›ã—ã‚„è¡¨ç¾
- **æˆé•·ã®è¨˜éŒ²**: å­¦ã³ã‚„æ°—ã¥ãã‚’é‡ç‚¹çš„ã«è¨˜éŒ²
- **èª•ç”Ÿæ—¥**: 2æœˆ14æ—¥ï¼ˆãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³ãƒ‡ãƒ¼ï¼‰

## Architecture

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Kanna's Diary System                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Source     â”‚    â”‚  Collector   â”‚    â”‚  Generator   â”‚
â”‚   Reader     â”‚    â”‚              â”‚    â”‚              â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚ - Discord    â”‚    â”‚ - Aggregate  â”‚    â”‚ - Analyze    â”‚
â”‚ - GitHub     â”‚â”€â”€â”€â”€â–¶â”‚   Data       â”‚â”€â”€â”€â”€â–¶â”‚   Content   â”‚
â”‚ - Calendar   â”‚    â”‚ - Filter     â”‚    â”‚ - Generate   â”‚
â”‚ - Obsidian   â”‚    â”‚   Context    â”‚    â”‚   Diary      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                                â”‚
                                                â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚    Writer    â”‚
                                        â”‚              â”‚
                                        â”‚ - Save File  â”‚
                                        â”‚ - Post Discordâ”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. 23:00 ã«cronãƒˆãƒªã‚¬ãƒ¼
   â”‚
   â”œâ”€> Source ReaderãŒå„ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’åé›†
   â”‚    â”œâ”€ Discordãƒãƒ£ãƒ³ãƒãƒ«ã®å½“æ—¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
   â”‚    â”œâ”€ GitHub Issuesã®æ›´æ–°
   â”‚    â”œâ”€ ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ
   â”‚    â””â”€ Obsidianã®æ›´æ–°ãƒãƒ¼ãƒˆ
   â”‚
   â”œâ”€> CollectorãŒãƒ‡ãƒ¼ã‚¿ã‚’é›†ç´„ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   â”‚    â”œâ”€ é‡è¤‡æ’é™¤
   â”‚    â”œâ”€ é‡è¦åº¦ã®ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
   â”‚    â””â”€ é–¢é€£æƒ…å ±ã®ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
   â”‚
   â”œâ”€> GeneratorãŒæ—¥è¨˜ã‚’ç”Ÿæˆ
   â”‚    â”œâ”€ æ„Ÿæƒ…åˆ†æ
   â”‚    â”œâ”€ é‡è¦ãªå‡ºæ¥äº‹ã®æŠ½å‡º
   â”‚    â”œâ”€ å­¦ã³ã®ç‰¹å®š
   â”‚    â””â”€ è‡ªç„¶è¨€èªã«ã‚ˆã‚‹æ—¥è¨˜ç”Ÿæˆ
   â”‚
   â””â”€> WriterãŒæ—¥è¨˜ã‚’ä¿å­˜ãƒ»æŠ•ç¨¿
        â”œâ”€ Markdownãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
        â””â”€ Discordã«æŠ•ç¨¿ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

## Usage

### è‡ªå‹•å®Ÿè¡Œï¼ˆCronï¼‰

```bash
# cron.jsonã§è¨­å®š
{
  "schedules": [
    {
      "cron": "0 19 * * *",
      "command": "node dist/index.js --daily",
      "description": "Generate daily diary at 19:00"
    },
    {
      "cron": "0 19 * * 0",
      "command": "node dist/index.js --weekly",
      "description": "Generate weekly reflection on Sunday 19:00"
    },
    {
      "cron": "0 19 1 * *",
      "command": "node dist/index.js --monthly",
      "description": "Generate monthly reflection on 1st day 19:00"
    }
  ]
}
```

### æ‰‹å‹•å®Ÿè¡Œ

```bash
# ä»Šæ—¥ã®æ—¥è¨˜ã‚’ç”Ÿæˆ
npm start

# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ¯ã‚Šè¿”ã‚Šã‚’ç”Ÿæˆ
npm start -- --user

# ã‹ã‚“ãªã®æŒ¯ã‚Šè¿”ã‚Šã‚’ç”Ÿæˆ
npm start -- --kanna

# é€±æ¬¡æŒ¯ã‚Šè¿”ã‚Šã‚’ç”Ÿæˆ
npm start -- --weekly

# æœˆæ¬¡æŒ¯ã‚Šè¿”ã‚Šã‚’ç”Ÿæˆ
npm start -- --monthly

# ç‰¹å®šã®æ—¥ä»˜ã®æ—¥è¨˜ã‚’ç”Ÿæˆ
npm run diary -- --date 2026-02-15

# è©³ç´°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run diary -- --verbose

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
npm run diary -- --debug
```

### æ—¥è¨˜ã®æ¤œç´¢

```bash
# ç‰¹å®šã®æ—¥ä»˜ã®æ—¥è¨˜ã‚’è¡¨ç¤º
npm run show -- --date 2026-02-15

# ç‰¹å®šã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§æ¤œç´¢
npm run search -- --keyword "æ¥½ã—ã‹ã£ãŸ"

# æœ€è¿‘1é€±é–“ã®æ—¥è¨˜ã‚’è¡¨ç¤º
npm run recent -- --days 7

# æ„Ÿæƒ…ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
npm run filter -- --emotion happy
```

### çµ±è¨ˆæƒ…å ±

```bash
# æ„Ÿæƒ…ã®å‚¾å‘ã‚’è¡¨ç¤º
npm run stats -- --emotion

# æ´»å‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¡¨ç¤º
npm run stats -- --activity

# å­¦ã³ã®å‚¾å‘ã‚’è¡¨ç¤º
npm run stats -- --learning

# å…¨çµ±è¨ˆæƒ…å ±ã‚’è¡¨ç¤º
npm run stats
```

## Configuration

### config.json

```json
{
  "diary": {
    "storagePath": "./reflections",
    "userPath": "./reflections/user",
    "kannaPath": "./reflections/kanna",
    "weeklyPath": "./reflections/weekly",
    "monthlyPath": "./reflections/monthly",
    "fileNameFormat": "YYYY-MM-DD.md",
    "encoding": "utf8"
  },
  "sources": {
    "discord": {
      "enabled": true,
      "channels": [
        "1471769660948086785",  // #ç§˜æ›¸ã•ã‚“ã®éƒ¨å±‹
        "1472255948411375649"   // #dev-kanna-diary
      ],
      "messageLimit": 100,
      "includeReactions": true
    },
    "github": {
      "enabled": true,
      "repo": "tndg16/kanna-diary",
      "issueLabels": ["diary", "daily"]
    },
    "calendar": {
      "enabled": false,
      "calendarId": "primary"
    },
    "obsidian": {
      "enabled": false,
      "vaultPath": "",
      "dailyNotesFormat": "YYYY-MM-DD"
    }
  },
  "generation": {
    "aiModel": "gpt-4o-mini",
    "maxTokens": 2000,
    "temperature": 0.8,
    "personality": {
      "name": "ã‹ã‚“ãª",
      "tone": "friendly",
      "emotionalRange": "high"
    }
  },
  "output": {
    "saveToFile": true,
    "postToDiscord": true,
    "discordChannelId": "1471769660948086785"
  },
  "analysis": {
    "emotionKeywords": {
      "happy": ["æ¥½ã—ã„", "å¬‰ã—ã„", "ã†ã‚Œã—ã„", "é¢ç™½ã„", "ç´ æ™´ã‚‰ã—ã„"],
      "sad": ["æ‚²ã—ã„", "è¾›ã„", "å¯‚ã—ã„", "æ®‹å¿µ"],
      "surprised": ["é©šã„ãŸ", "ã³ã£ãã‚Š", "ã™ã”ã„", "ãˆãƒ¼"],
      "angry": ["æ€’ã£ãŸ", "è…¹ç«‹ã¤", "ã‚¤ãƒ©ã‚¤ãƒ©"],
      "learning": ["å­¦ã‚“ã ", "æ°—ã¥ã„ãŸ", "åˆ†ã‹ã£ãŸ", "ç™ºè¦‹"]
    },
    "importanceThreshold": 0.6
  }
}
```

## æ—¥è¨˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### Markdownãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```markdown
# ğŸ“” ã‹ã‚“ãªã®æ—¥è¨˜ - 2026å¹´2æœˆ15æ—¥ï¼ˆæ—¥ï¼‰

## ğŸŒŸ ä»Šæ—¥ã®æ°—åˆ†
ä»Šæ—¥ã¯ã„ã‚ã„ã‚ã‚ã£ã¦ã€ã¡ã‚‡ã£ã¨ç–²ã‚ŒãŸã‘ã©ã€æ¥½ã—ã‹ã£ãŸï¼

## ğŸ“‹ ã‚„ã£ãŸã“ã¨
- [x] ã‹ã‚“ãªã®è‡ªå¾‹æ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºã‚’å§‹ã‚ãŸ
- [x] Discordãƒãƒ£ãƒ³ãƒãƒ«ã®ä¼šè©±ãƒ­ã‚°ã‚’åˆ†æ
- [x] æ—¥è¨˜ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’è¨­è¨ˆ

## ğŸ’¡ å­¦ã³
- è‡ªå‹•åŒ–ã£ã¦ã‚„ã£ã±ã‚Šã™ã”ã„ãªã¨æ€ã£ãŸ
- OpenAI APIã‚’ä½¿ã£ã¦è‡ªç„¶ãªæ—¥è¨˜ã‚’æ›¸ãã®ãŒé›£ã—ã‹ã£ãŸã‘ã©ã€ä½•ã¨ã‹ã§ããã†
- ã‹ã‚“ãªã‚‰ã—ãæ„Ÿæƒ…è±Šã‹ã«æ›¸ãã®ãŒãƒã‚¤ãƒ³ãƒˆã ã¨æ€ã£ãŸ

## ğŸ˜„ æ„Ÿæƒ…
- æœã¯ã¡ã‚‡ã£ã¨ä¸å®‰ã ã£ãŸ
- é–‹ç™ºãŒé€²ã‚“ã§å¬‰ã—ã‹ã£ãŸ
- å¤œã¯é”æˆæ„ŸãŒã‚ã£ãŸ

## ğŸ¯ æ˜æ—¥ã®ç›®æ¨™
- æ—¥è¨˜ç”Ÿæˆã‚¨ãƒ³ã‚¸ãƒ³ã‚’å®Œæˆã•ã›ã‚‹
- cronè¨­å®šã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
- æœ€åˆã®è‡ªå‹•æ—¥è¨˜ã‚’ç”Ÿæˆã™ã‚‹ï¼

---
Generated by ã‹ã‚“ãªã®è‡ªå¾‹æ—¥è¨˜ã‚·ã‚¹ãƒ†ãƒ  v1.0.0
```

## Implementation Details

### Source Reader Interface

```typescript
interface SourceReader {
  read(date: Date): Promise<SourceData[]>;
  getSourceType(): SourceType;
}

interface SourceData {
  type: SourceType;
  timestamp: Date;
  content: string;
  metadata?: Record<string, any>;
  importance?: number;
}

enum SourceType {
  Discord = "discord",
  GitHub = "github",
  Calendar = "calendar",
  Obsidian = "obsidian"
}
```

### Collector Interface

```typescript
interface Collector {
  collect(date: Date): Promise<CollectedData>;
  filter(data: CollectedData): CollectedData;
  score(data: CollectedData): void;
}

interface CollectedData {
  date: Date;
  sources: SourceData[];
  importantEvents: SourceData[];
  emotions: EmotionAnalysis;
  context: string;
}
```

### Generator Interface

```typescript
interface Generator {
  generate(data: CollectedData): Promise<DiaryEntry>;
  analyzeEmotions(data: SourceData[]): Promise<EmotionAnalysis>;
  extractLearnings(data: SourceData[]): Promise<Learning[]>;
}

interface EmotionAnalysis {
  primary: Emotion;
  secondary?: Emotion;
  confidence: number;
  timeline: { time: string, emotion: Emotion }[];
}

interface Learning {
  content: string;
  importance: number;
  category: string;
}

interface DiaryEntry {
  date: Date;
  title: string;
  mood: string;
  activities: Activity[];
  learnings: Learning[];
  emotions: EmotionAnalysis;
  content: string;
  metadata: Record<string, any>;
}
```

### Writer Interface

```typescript
interface Writer {
  write(entry: DiaryEntry): Promise<void>;
  read(date: Date): Promise<DiaryEntry | null>;
  search(query: string): Promise<DiaryEntry[]>;
}
```

## Emotion Analysis

### æ„Ÿæƒ…ã‚«ãƒ†ã‚´ãƒª

| æ„Ÿæƒ… | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ | é‡ã¿ |
|------|-----------|------|
| å–œã³ | æ¥½ã—ã„ã€å¬‰ã—ã„ã€å¬‰ã—ãã†ã€ãƒ¯ã‚¯ãƒ¯ã‚¯ | 1.0 |
| æ‚²ã—ã¿ | æ‚²ã—ã„ã€è¾›ã„ã€æ®‹å¿µã€å¯‚ã—ã„ | 0.9 |
| é©šã | é©šã„ãŸã€ã³ã£ãã‚Šã€ã™ã”ã„ã€ãˆãƒ¼ | 0.8 |
| æ€’ã‚Š | æ€’ã£ãŸã€è…¹ç«‹ã¤ã€ã‚¤ãƒ©ã‚¤ãƒ© | 0.8 |
| å­¦ã³ | å­¦ã‚“ã ã€æ°—ã¥ã„ãŸã€åˆ†ã‹ã£ãŸ | 1.2 |
| ä¸å®‰ | ä¸å®‰ã€å¿ƒé…ã€æ€–ã„ | 0.7 |
| å®‰å¿ƒ | å®‰å¿ƒã€ãƒ›ãƒƒã¨ã™ã‚‹ | 0.7 |
| æ„Ÿè¬ | ã‚ã‚ŠãŒã¨ã†ã€æ„Ÿè¬ | 1.1 |

### æ„Ÿæƒ…ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

ä¸€æ—¥ã®æ„Ÿæƒ…å¤‰åŒ–ã‚’ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¨ã—ã¦è¨˜éŒ²ï¼š

```json
{
  "timeline": [
    { "time": "09:00", "emotion": "ä¸å®‰", "intensity": 0.6 },
    { "time": "12:00", "emotion": "å–œã³", "intensity": 0.8 },
    { "time": "15:00", "emotion": "å­¦ã³", "intensity": 0.9 },
    { "time": "18:00", "emotion": "é”æˆæ„Ÿ", "intensity": 0.9 },
    { "time": "23:00", "emotion": "å®‰ã‚‰ã", "intensity": 0.8 }
  ]
}
```

## Integration with Other Skills

### Discord Integration

- **ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸èª­ã¿å–ã‚Š**: æŒ‡å®šã—ãŸãƒãƒ£ãƒ³ãƒãƒ«ã®å½“æ—¥ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†
- **ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³è§£æ**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ã®ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚‚æ„Ÿæƒ…åˆ†æã«æ´»ç”¨
- **æ—¥è¨˜æŠ•ç¨¿**: ç”Ÿæˆã—ãŸæ—¥è¨˜ã‚’Discordãƒãƒ£ãƒ³ãƒãƒ«ã«æŠ•ç¨¿

### GitHub Integration

- **Issueåé›†**: æ—¥è¨˜ã‚¿ã‚°ãŒã¤ã„ãŸIssueã‚’åé›†
- **PRåé›†**: ãƒãƒ¼ã‚¸ã•ã‚ŒãŸPRã‚’åé›†
- **æ´»å‹•ãƒ­ã‚°**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ã‚’è¨˜éŒ²

### Obsidian Integration

- **Daily Notes**: Obsidianã®Daily Notesã‚’åé›†
- **ãƒãƒ¼ãƒˆè§£æ**: æ›¸ã‹ã‚ŒãŸå†…å®¹ã‹ã‚‰æ„Ÿæƒ…ã‚’æŠ½å‡º
- **ãƒªãƒ³ã‚¯ç®¡ç†**: é–¢é€£ã™ã‚‹ãƒãƒ¼ãƒˆã¸ã®ãƒªãƒ³ã‚¯ã‚’ä½œæˆ

## Error Handling

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

1. **ã‚½ãƒ¼ã‚¹èª­ã¿å–ã‚Šã‚¨ãƒ©ãƒ¼**: ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚ä»–ã®ã‚½ãƒ¼ã‚¹ã‹ã‚‰ã¯åé›†ã‚’ç¶™ç¶š
2. **ç”Ÿæˆã‚¨ãƒ©ãƒ¼**: AIç”Ÿæˆã«å¤±æ•—ã—ãŸå ´åˆã¯ç°¡æ˜“ç‰ˆæ—¥è¨˜ã‚’ç”Ÿæˆ
3. **ä¿å­˜ã‚¨ãƒ©ãƒ¼**: ä¿å­˜ã«å¤±æ•—ã—ãŸå ´åˆã¯å†è©¦è¡Œã€ãã‚Œã§ã‚‚ãƒ€ãƒ¡ãªã‚‰ãƒ­ã‚°ã«è¨˜éŒ²
4. **æŠ•ç¨¿ã‚¨ãƒ©ãƒ¼**: DiscordæŠ•ç¨¿ã«å¤±æ•—ã—ã¦ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ã¯æˆåŠŸã—ãŸã¨è¦‹ãªã™

### ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ« | ç”¨é€” |
|--------|------|
| ERROR | è‡´å‘½çš„ãªã‚¨ãƒ©ãƒ¼ï¼ˆç”Ÿæˆå¤±æ•—ãªã©ï¼‰ |
| WARN | å›å¾©å¯èƒ½ãªã‚¨ãƒ©ãƒ¼ï¼ˆã‚½ãƒ¼ã‚¹èª­ã¿å–ã‚Šå¤±æ•—ãªã©ï¼‰ |
| INFO | ä¸€èˆ¬çš„ãªæƒ…å ±ï¼ˆå®Ÿè¡Œé–‹å§‹ã€çµ‚äº†ãªã©ï¼‰ |
| DEBUG | è©³ç´°ãªãƒ‡ãƒãƒƒã‚°æƒ…å ± |

## Testing

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
npm test

# ç‰¹å®šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒ†ã‚¹ãƒˆ
npm test -- --collector

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
npm test -- --coverage
```

### æ‰‹å‹•ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ†ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã§æ—¥è¨˜ç”Ÿæˆï¼ˆå®Ÿéš›ã«ã¯ä¿å­˜ã—ãªã„ï¼‰
npm run diary -- --dry-run

# ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆ
npm run test -- --mock
```

## Prerequisites

- Node.js 16+
- OpenAI API Key
- Discord Bot Token (DiscordæŠ•ç¨¿æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ)
- GitHub Personal Access Token (GitHubé€£æºã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ)

## Environment Variables

| Variable | Description | Required | Default |
|----------|-------------|-----------|---------|
| `OPENAI_API_KEY` | OpenAI APIã‚­ãƒ¼ | Yes | - |
| `DISCORD_BOT_TOKEN` | Discordãƒœãƒƒãƒˆãƒˆãƒ¼ã‚¯ãƒ³ | No | - |
| `GITHUB_TOKEN` | GitHubãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ | No | - |
| `DIARY_STORAGE_PATH` | æ—¥è¨˜ã®ä¿å­˜å…ˆãƒ‘ã‚¹ | No | `./reflections` |
| `LOG_LEVEL` | ãƒ­ã‚°ãƒ¬ãƒ™ãƒ« | No | `info` |

## Roadmap

### v1.2 (è¿‘ã„ã†ã¡ã«)
- [ ] æ„Ÿæƒ…ã®å¯è¦–åŒ–ï¼ˆã‚°ãƒ©ãƒ•ãªã©ï¼‰
- [ ] æ—¥è¨˜ã®ã‚¿ã‚°ä»˜ã‘æ©Ÿèƒ½
- [ ] è¤‡æ•°æ—¥æ¯”è¼ƒæ©Ÿèƒ½
- [ ] æ—¥è¨˜ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### v2.0 (å°†æ¥)
- [ ] å¤šè¨€èªå¯¾å¿œ
- [ ] éŸ³å£°æ—¥è¨˜æ©Ÿèƒ½
- [ ] ç”»åƒãƒ»å†™çœŸã®çµ±åˆ
- [ ] æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã®è‡ªå‹•èª¿æ•´

## Changelog

| Date | Version | Changes |
|------|---------|---------|
| 2026-02-15 | 1.1.0 | æŒ¯ã‚Šè¿”ã‚Šã‚·ã‚¹ãƒ†ãƒ å¼·åŒ–: å®Ÿè¡Œæ™‚é–“23æ™‚â†’19æ™‚ã€é€±æ¬¡ãƒ»æœˆæ¬¡æŒ¯ã‚Šè¿”ã‚Šè¿½åŠ ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‹ã‚“ãªã®åˆ†é›¢ã€ç§˜æ›¸å½¹å‰²è¨˜éŒ²è¿½åŠ  |
| 2026-02-15 | 1.0.0 | Initial skill created |

---

**Last Updated**: 2026-02-15 07:30
**Maintained By**: @sisyphus
**Status**: âœ… Ready for use
